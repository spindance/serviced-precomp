<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Changing the name or IP address of the master host</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="task">
      
      <meta name="DC.Title" content="Changing the name or IP address of the master host">
      
      <meta name="prodname" content="Zenoss Control Center">
      
      <meta name="version" content="1">
      
      <meta name="release" content="1">
      
      <meta name="modification" content="x">
      
      <meta name="DC.Publisher" content="Zenoss, Inc.">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="taskid">
      <script type="text/javascript">var d4p = {"relativePath":"..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"dox.cc\/cli\/cli.html","previousTopicHref":"dox.cc\/admin\/multiple.html","root":false,"map":{"chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/html5-zenoss/css/style.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection, print" src="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
      <script rel="stylesheet" type="text/css" media="screen, projection, print" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="../../themes/html5-zenoss/js/script.js"></script>
      </head>
   <body class="en-us html5-zenoss centered navigation-default">
      <ul id="page-links" class="hidden sr-only">
         <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
         <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
         <li><a id="skip-to-footer" href="#footer">Skip to footer</a></li>
      </ul>
      <header id="site-head" class="header header--fixed">
         <nav id="topNav" class="navbar navbar-inverse navbar-static-top" role="navigation">
            <div class="container">
               <div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="#">  Zenoss Control Center Help  </a></div>
               <form id="search" class="navbar-form navbar-right hidden-xs" role="search">
                  <div class="form-group"><input id="search-text" type="text" class="form-control" placeholder="Search"></div>
               </form>
            </div>
         </nav>
         <div id="msg-version"></div>
      </header>
      <div class="container">
         <div class="row">
            <div class="col-xs-12 col-md-21">
               <ol class="breadcrumb">
                  <li><a class="breadcrumb" href="../../dox.cc/admin/admin.html" title="Administration reference">Administration reference</a></li>
                  
                  <li>Changing the name or IP address of the master host</li>
               </ol>
            </div>
         </div>
         <div class="row">
            <div class="col-xs-6 col-md-4 hidden-xs">
               <nav id="side-navigation" class="bs-docs-sidebar hidden-print hidden-xs">
                  <ul class="nav bs-docs-sidenav">
                     <li class=" collapsible  active"><a href="../../dox.cc/admin/admin.html"><span class="enumeration enumeration0">Chapter 1. </span>Administration reference</a><ul class="nav">
                           <li class=" no-child "><a href="../../dox.cc/admin/multiple.html">Deploying multiple instances of a service</a></li>
                           <li class=" no-child  active"><a class="selected" href="../../dox.cc/admin/change-host.html">Changing the name or IP address of the master host</a></li>
                        </ul>
                     </li>
                     <li class=" collapsible  collapsed"><a href="../../dox.cc/cli/cli.html"><span class="enumeration enumeration0">Chapter 2. </span>Using the Control Center command-line interface</a><ul class="nav">
                           <li class=" no-child "><a href="../../dox.cc/cli/invoking-serviced.html">Invoking serviced</a></li>
                           <li class=" no-child "><a href="../../dox.cc/cli/serviced.html">serviced</a></li>
                           <li class=" no-child "><a href="../../dox.cc/cli/serviced-service.html">serviced service</a></li>
                           <li class=" no-child "><a href="../../dox.shared/serviced/vars.html">/etc/default/serviced</a></li>
                           <li class=" no-child "><a href="../../dox.cc/cli/script.html">serviced script</a></li>
                        </ul>
                     </li>
                  </ul>
               </nav>
            </div>
            <div class="col-xs-12 col-md-8">
               <div id="page" class="starter-template">
                  <article>
                     <div class="page task  - topic-topic task-task " id="taskid">
                        
                        <h1 class="title topictitle1">Changing the name or IP address of the master host</h1>
                        <div class="body taskbody">
                           
                           <div class="section context"><a name="taskid-d671e25" id="taskid-d671e25" class="anchor"></a>Perform this procedure after updating the master host operating system with
                              a new hostname or IP address.
                           </div>
                           
                           
                           <ol class="ol steps">
                              <li class="li step stepexpand" id="taskid__log-in-browser">
                                 <span class="ph cmd">Log in to the <span class="ph">Control Center</span> web interface.</span>
                                 
                              </li>
                              
                              <li class="li step stepexpand" id="taskid__select">
                                 <span class="ph cmd">In the <span class="ph uicontrol">Actions</span> column of the <span class="ph uicontrol">Applications</span>
                                    table, click <span class="ph uicontrol">Stop</span> for each 
                                    application running on the master host. </span>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">In the <span class="ph uicontrol">Stop Services</span> dialog, click <span class="ph uicontrol">Stop
                                       Services</span>.</span>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">Log in to the <span class="ph">Control Center</span> master 
                                    host <span class="ph">as <samp class="ph codeph">root</samp> or as a user with <samp class="ph codeph">sudo</samp> privileges</span>.</span>
                                 
                              </li>
                              
                              <li class="li step stepexpand"><strong>Optional: </strong>
                                 <span class="ph cmd">Update variables in <span class="ph filepath">/etc/default/serviced</span>, if necessary.</span>
                                 
                                 <div class="itemgroup info">For example, some deployments use the master host IP address for the values of the
                                    <var class="keyword varname">SERVICED_OUTBOUND_IP</var> or <var class="keyword varname">SERVICED_STATIC_IPS</var>
                                    variables.
                                    
                                 </div>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">Stop <span class="ph">Control Center</span>.</span>
                                 
                                 <ul class="ul choices">
                                    
                                    <li class="li choice">Ubuntu: <kbd class="ph userinput">sudo stop serviced</kbd></li>
                                    
                                    
                                    <li class="li choice">RHEL/CentOS: <kbd class="ph userinput">systemctl stop serviced</kbd></li>
                                    
                                    
                                 </ul>
                                 
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">Remove the <span class="ph filepath">zookeeper</span> file.</span>
                                 
                                 <ul class="ul choices">
                                    
                                    <li class="li choice">Ubuntu: <kbd class="ph userinput">sudo rm -rf /opt/serviced/var/isvcs/zookeeper</kbd></li>
                                    
                                    
                                    <li class="li choice">RHEL/CentOS: <kbd class="ph userinput">rm -rf /opt/serviced/var/isvcs/zookeeper</kbd></li>
                                    
                                    
                                 </ul>
                                 
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">Start <span class="ph">Control Center</span>.</span>
                                 
                                 <ul class="ul choices">
                                    
                                    <li class="li choice">Ubuntu: <kbd class="ph userinput">sudo start serviced</kbd></li>
                                    
                                    
                                    <li class="li choice">RHEL/CentOS: <kbd class="ph userinput">systemctl start serviced</kbd></li>
                                    
                                    
                                 </ul>
                                 
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">Update resource pool hosts with the new master host name or IP address.</span>
                                 
                                 <div class="itemgroup info">Each resource pool host includes the master host name or IP address in its
                                    <span class="ph filepath">/etc/default/serviced</span> file, which must be changed. 
                                 </div>
                                 
                                 <div class="itemgroup info">Perform the following substeps on each resource pool host:</div>
                                 
                                 <ol type="a" class="ol substeps">
                                    
                                    <li class="li substep substepexpand">
                                       <span class="ph cmd">Log in to the resource pool host <span class="ph">as <samp class="ph codeph">root</samp> or as a user with <samp class="ph codeph">sudo</samp> privileges</span>.</span>
                                       
                                    </li>
                                    
                                    
                                    <li class="li substep substepexpand">
                                       <span class="ph cmd">Open <span class="ph filepath">/etc/default/serviced</span> with a text editor, and then change
                                          the name or IP address of the master host.</span>
                                       
                                       <div class="itemgroup info">The following variables need to be updated with the new information: 
                                          
                                          <ul class="ul">
                                             
                                             <li class="li"><var class="keyword varname">SERVICED_ZK</var></li>
                                             
                                             
                                             <li class="li"><var class="keyword varname">SERVICED_DOCKER_REGISTRY</var></li>
                                             
                                             
                                             <li class="li"><var class="keyword varname">SERVICED_ENDPOINT</var></li>
                                             
                                             
                                             <li class="li"><var class="keyword varname">SERVICED_LOG_ADDRESS</var></li>
                                             
                                             
                                             <li class="li"><var class="keyword varname">SERVICED_LOGSTASH_ES</var></li>
                                             
                                             
                                             <li class="li"><var class="keyword varname">SERVICED_STATS_PORT</var></li>
                                             
                                             
                                          </ul>
                                          
                                          
                                       </div>
                                       
                                    </li>
                                    
                                    
                                    <li class="li substep substepexpand">
                                       <span class="ph cmd">Save the file, and then exit the text editor.</span>
                                       
                                    </li>
                                    
                                    
                                    <li class="li substep substepexpand">
                                       <span class="ph cmd">Stop and restart <span class="ph">Control Center</span>.</span>
                                       
                                       <div class="itemgroup stepxmp">
                                          
                                          <ul class="sl simple">
                                             
                                             <li class="sli">Ubuntu: <kbd class="ph userinput">sudo stop serviced &amp;&amp; sudo start
                                                   serviced</kbd></li>
                                             
                                             
                                             <li class="sli">RHEL/CentOS: <kbd class="ph userinput">systemctl stop serviced &amp; systemctl start
                                                   serviced</kbd></li>
                                             
                                             
                                          </ul>
                                          
                                          
                                       </div>
                                       
                                    </li>
                                    
                                    
                                 </ol>
                                 
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">Return to the <span class="ph">Control Center</span> web interface.</span>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">On the <span class="ph uicontrol">Hosts</span> page, locate the master host with the old system
                                    information and click <span class="ph uicontrol">Delete</span>.</span>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">In the <span class="ph uicontrol">Remove Host</span> dialog, click <span class="ph uicontrol">Remove
                                       Host</span>.</span>
                                 
                                 <div class="itemgroup info">The master host with the old information is removed from the
                                    <span class="ph uicontrol">Hosts</span> table.
                                 </div>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">Click <span class="ph uicontrol">Add Host</span>.</span>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">In the <span class="ph uicontrol">Add Host</span> dialog, specify the new <span class="ph uicontrol">Host and
                                       port</span>, the <span class="ph uicontrol">Resource Pool ID</span>, and <span class="ph uicontrol">RAM
                                       Committment</span>, and then click <span class="ph uicontrol">Add Host</span>.</span>
                                 
                                 <div class="itemgroup info">The master host is added to the <span class="ph uicontrol">Hosts</span> table with the new system
                                    information.
                                 </div>
                                 
                              </li>
                              
                              <li class="li step stepexpand">
                                 <span class="ph cmd">On the <span class="ph uicontrol">Applications</span> page, click <span class="ph uicontrol">Start</span> to
                                    restart all applications. </span>
                                 
                              </li>
                              
                           </ol>
                           
                           
                        </div>
                        
                     </div>
                     
                     <div class="row">
                        <footer id="topicsNPLinks">
                           <div id="footer_previous"><a href="../../dox.cc/admin/multiple.html" class="previous" rel="internal" title="Deploying multiple instances of a service"><span class="fa fa-arrow-circle-o-left"></span><span class="sr-only">Deploying multiple instances of a service</span></a></div>
                           <div id="footer_next"><a href="../../dox.cc/cli/cli.html" class="next" rel="internal" title="Using the Control Center command-line interface"><span class="sr-only">Using the Control Center command-line interface</span><span class="fa fa-arrow-circle-o-right"></span></a></div>
                        </footer>
                     </div>
                  </article>
                  <div class="clear"></div>
                  
               </div>
            </div>
         </div>
      </div>
   </body>
</html>